
<form action="" method="GET" class="col-md-4 offset-4 mt-5 card card-body" #form="ngForm" (ngSubmit)="booksData(form)">
    <h1 class="text-center bg-success text-white">BooksData</h1>
    <div class="form-group">
            <button type="submit" class="btn-outline-success float-right" [disabled]="form.invalid">GetBook sData</button>
        </div>
</form >


<table class="table table-border table-striped table-primary col-md-8 offset-2">
    <thead>
        <tr>
          <th>BookId</th>
          <th>BookName</th>
          <th>Author</th>
          <th>price</th>
          <th>Date</th>
          <th>Update</th>
          <th>Delete</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let book of books">
            <td>{{book.bid}}</td>
            <td>{{book.bname}}</td>
            <td>{{book.authour}}</td>
            <td>{{book.price}}</td>
            <td>{{book.DOE}}</td>
            <td>
                <!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" (click)="selectUser(book)">
    Update
  </button>
  
  <!-- Modal -->
  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">UpDateBook</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body" *ngIf ="selectedUser">
            <form action="" class="" #form="ngForm"(ngSubmit)="UpdateData(form)">
                <h1 class="text-center bg-info text-white">Update</h1>
                <input type="hidden" name="bid" #bid="ngModel" ngModel [(ngModel)] ="selectedUser.bid">
                <div class="form-group">
                  <label for="exampleInputEmail1">BookName</label>
                  <input type="text" name="bname" #bname='ngModel'maxlength="20" pattern="[A-Za-z]{1,20}" value="'.$_SESSION['user_name'].'" required
                   ngModel class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter name">
                  <div *ngIf="bname.invalid && bname.touched">
                    <p *ngIf="bname.errors.required" class="text-danger">*This field is mandatory
                      <p *ngIf="bname.errors.pattern" class="text-danger">*input field that can contain  letters (no numbers or special characters)
                  </div>
                </div>
                <div class="form-group">
                  <label for="exampleInputPassword1">AuthorName</label>
                  <input type="text" class="form-control" id="exampleInputPassword1" maxlength="20" pattern="[A-Za-z]{1,20}" value="'.$_SESSION['user_name'].'" required
                     placeholder="EnterAuthorName..." name="authour" #authour='ngModel' ngModel>
                  <div *ngIf="authour.invalid && authour.touched">
                    <p *ngIf="authour.errors.required" class="text-danger">*This field is mandatory
                      <p *ngIf="authour.errors.pattern" class="text-danger">*input field that can contain  letters (no numbers or special characters)
                  </div>
                
                </div>
        
                <div class="form-group">
                        <label for="exampleInputPassword1">Price</label>
                        <input type="number" class="form-control" id="Price" required pattern="[1-4]" placeholder="Enterprice..." name="price" #price='ngModel' ngModel>
                
                        <div *ngIf="price.invalid && price.touched">
                          <p *ngIf="price.errors.required" class="text-danger">*This field is mandatory
                            <p *ngIf="price.errors.pattern" class="text-danger">*input field that contain minimum 1 and maximum 4
         
                        </div>
                
                
                      </div>
        
            <div class="form-group">
                    <label for="exampleInputPassword1">DateOfEntry</label>
                    <input   type="date" class="form-control" required id="date" placeholder="EnterAuthorName..." name="EnterDOE" #DOE='ngModel' ngModel>
                 
                    <div *ngIf="DOE.invalid && DOE.touched">
                      <p *ngIf="DOE.errors.required" class="text-danger">*This field is mandatory
                        
                    </div>
                 
                 
                  </div>
    
            <div class="form-group">
                <button type="submit" class="btn-outline-success float-right"[disabled]="form.invalid">Update</button>
            </div>
            
            </form>
        </div>

      </div>
    </div>
  </div>
            </td>
            <td>
                <button (click)= "deleteData(book)"  type="button" class="btn btn-outline-danger">Delete</button>
            </td>
        </tr>
    </tbody>
</table>

